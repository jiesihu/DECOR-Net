# DECOR-Net
We design an efficient classification strategy for paper, **CTE-Net: Automatic COVID-19 Lung Infection Segmentation Boosted by Low-level Features and Fine-grained Textures**. 
Specifically, we design a channel tuning strategy and fine-grain texture enhancing unit to improve COVID-19 infection segmentation.
The model is built based on the MONAI framework.

## Usage
### Installation
1. Requirements

- Linux
- Python 3.6+
- PyTorch 1.7.0 or higher
- CUDA 10.0 or higher 

2. Dependencies.
- numpy>=1.21.5
- pandas>=1.1.5
- torch>=1.7.0
- torchvision>=0.11.1
- monai>=0.8.1
- pillow
- yaml
- json
- torchmetrics

Or you can run the following code to install dependencies.
```shell
pip install -r requirements.txt
```

### Dataset
The COVID-19 Challenge dataset can be found [here](https://covid-segmentation.grand-challenge.org).
Unzip the COVID-19-20.zip under this directory and run Datapreprocessing_pipeline.ipynb to generated the preprocessed data. The data will be saved in **./COVID19Challenge/data2D**.

### Training and Evaluation
The path of dataset need to be set in **./CTE_Net/CTE-Net.yaml** before training.
```
python train.py --config_path ./CTE_Net/CTE-Net.yaml
```

### Evaluation
```
bash evaluation.sh
```
The path of `training_dir` in **evaluation.sh** need to be set before evaluation, so the code knows which model needs to be evaluated. The folder for `training_dir` will be automatically generated by  **train.py**.
All the metrics generated by **evaluation.sh** will be save in the folder of `training_dir`.
